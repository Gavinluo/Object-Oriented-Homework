@startuml
title 分布式自习室与讨论室预约系统 逻辑架构图

package "表示层\n(Presentation)" {
  [学生/教职工前端]
  [管理员后台]
  [移动端/小程序]
}

package "应用层\n(Application)" {
  [用户应用服务]
  [房间应用服务]
  [预约应用服务]
  [统计报表应用服务]
}

package "业务子系统\n(Domain Subsystems)" {
  package "用户与权限子系统" {
    [User]
    [AuthService]
    [BlacklistService]
  }

  package "场地资源管理子系统" {
    [Room]
    [RoomService]
  }

  package "预约管理子系统" {
    [Reservation]
    [ReservationService]
    [CheckInService]
  }

  package "通知与统计子系统" {
    [NotificationService]
    [ReportService]
  }
}

package "基础设施层\n(Infrastructure)" {
  [SSO 集成模块]
  [消息网关]
  [持久化/缓存模块]
}

' 依赖关系（简化）
[学生/教职工前端] --> [预约应用服务]
[移动端/小程序] --> [预约应用服务]
[管理员后台] --> [房间应用服务]
[管理员后台] --> [统计报表应用服务]

[预约应用服务] --> [预约管理子系统]
[预约应用服务] --> [用户与权限子系统]
[预约应用服务] --> [场地资源管理子系统]
[预约应用服务] --> [通知与统计子系统]

[房间应用服务] --> [场地资源管理子系统]
[用户应用服务] --> [用户与权限子系统]
[统计报表应用服务] --> [通知与统计子系统]

[用户与权限子系统] --> [SSO 集成模块]
[用户与权限子系统] --> [持久化/缓存模块]

[预约管理子系统] --> [持久化/缓存模块]
[场地资源管理子系统] --> [持久化/缓存模块]

[通知与统计子系统] --> [消息网关]
[通知与统计子系统] --> [持久化/缓存模块]

@enduml
